# Быстрый старт

## 1. Настройка конфигурации

Отредактируйте файл `.env` и заполните все необходимые данные:

```env
# Telegram Bot (получить у @BotFather)
TELEGRAM_BOT_TOKEN=1234567890:ABC-DEF1234567890ABC
TELEGRAM_BOT_USERNAME=your_bot_name

# Coze API (получить на coze.com)
COZE_API_KEY=pat_abc123xyz
COZE_BOT_ID=73012345678901234567

# YooKassa (получить в личном кабинете)
YOOKASSA_SHOP_ID=123456
YOOKASSA_SECRET_KEY=live_abc123xyz

# Ваш Telegram ID для админ-команд
ADMIN_IDS=123456789
```

## 2. Проверка настроек

Запустите тест для проверки всех подключений:

```bash
npm run test
```

## 3. Запуск бота

```bash
npm start
```

## 4. Тестирование в Telegram

1. Найдите вашего бота в Telegram
2. Отправьте `/start`
3. Проверьте все функции:
   - Просмотр подписок
   - Создание платежа (тестовые карты ЮКассы)
   - Общение с ИИ после покупки подписки

## Тестовые карты ЮКассы

Для тестирования платежей используйте:
- **Успешная оплата:** 5555 5555 5555 4477
- **Отклоненная оплата:** 5555 5555 5555 4444
- **CVC:** любой трёхзначный код
- **Срок действия:** любая будущая дата

## Команды администратора

- `/admin_stats` - статистика бота
- `/admin_check_expired` - проверка истёкших подписок

## Структура файлов

```
FitnessBotAI/
├── src/
│   ├── index.js              # Главный файл
│   ├── bot/
│   │   ├── handlers.js       # Обработчики команд
│   │   ├── keyboards.js      # Клавиатуры
│   │   └── admin.js          # Админ-команды
│   ├── services/
│   │   ├── database.js       # База данных
│   │   ├── coze.js          # Coze API
│   │   └── payment.js        # ЮКасса API
│   └── utils/
│       └── helpers.js        # Вспомогательные функции
├── data/                     # База данных SQLite
├── test/                     # Тесты
└── .env                      # Конфигурация
```

## Возможные проблемы

### Ошибка "Cannot find module"
```bash
npm install
```

### Ошибка доступа к базе данных
Убедитесь, что папка `data/` доступна для записи

### Ошибка Coze API
- Проверьте правильность API ключа
- Убедитесь, что бот опубликован

### Ошибка ЮКасса
- Проверьте Shop ID и Secret Key
- Убедитесь, что webhook настроен правильно
