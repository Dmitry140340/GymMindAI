# üîê –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´ –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞:
> "–¢–æ—Ç, –∫—Ç–æ –æ–ø–ª–∞—Ç–∏–ª –ø–æ–¥–ø–∏—Å–∫—É –º–æ–∂–µ—Ç —Ä–∞–∑–¥–∞—Ç—å —ç—Ç–æ—Ç –±–æ—Ç –≤—Å–µ–º –±–µ—Å–ø–ª–∞—Ç–Ω–æ"

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –°–∏—Å—Ç–µ–º–∞ —Ç–æ–∫–µ–Ω–æ–≤ –¥–æ—Å—Ç—É–ø–∞

### üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü–æ–∫—É–ø–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏** ‚Üí –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. **–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞** ‚Üí –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–¥
3. **–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è** ‚Üí –í –æ—Å–Ω–æ–≤–Ω–æ–º –±–æ—Ç–µ —Ç–æ–∫–µ–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ API
4. **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø** ‚Üí –¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü —Ç–æ–∫–µ–Ω–∞ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ò–ò

### üîí –£—Ä–æ–≤–Ω–∏ –∑–∞—â–∏—Ç—ã:

#### 1. **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞**
```javascript
// –ö–∞–∂–¥—ã–π —Ç–æ–∫–µ–Ω –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ:
userId + paymentId + timestamp + secretKey
// –†–µ–∑—É–ª—å—Ç–∞—Ç: –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–¥–¥–µ–ª–∞—Ç—å –∏–ª–∏ —É–≥–∞–¥–∞—Ç—å
```

#### 2. **–ü—Ä–∏–≤—è–∑–∫–∞ –∫ Telegram ID**
```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ API:
if (subscription.telegram_id !== parseInt(telegram_id)) {
  return "–¢–æ–∫–µ–Ω –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —ç—Ç–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é";
}
```

#### 3. **–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è**
```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:
if (subscription.end_date < new Date()) {
  return "–ü–æ–¥–ø–∏—Å–∫–∞ –∏—Å—Ç–µ–∫–ª–∞";
}
```

#### 4. **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**
```javascript
// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
await updateTokenUsage(token);
```

### üì± –ü—Ä–∏–º–µ—Ä –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

**–û–±—ã—á–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å:**
1. –ü–æ–∫—É–ø–∞–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É ‚Üí `999‚ÇΩ`
2. –ü–æ–ª—É—á–∞–µ—Ç —Ç–æ–∫–µ–Ω ‚Üí `a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6`
3. –ò–¥–µ—Ç –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç ‚Üí `@your_coze_bot`
4. –í–≤–æ–¥–∏—Ç ‚Üí `/verify a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6`
5. –ü–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –ò–ò ‚úÖ

**–ü–æ–ø—ã—Ç–∫–∞ –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ê –¥–µ–ª–∏—Ç—Å—è —Ç–æ–∫–µ–Ω–æ–º —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –ë
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ë –ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω
3. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç Telegram ID
4. **–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω** ‚ùå - —Ç–æ–∫–µ–Ω –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ë

### üõ°Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞:

#### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏:
```javascript
// –¢–æ–∫–µ–Ω –¥–µ–π—Å—Ç–≤—É–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —á–∞—Å—ã
const now = new Date().getHours();
if (now < 6 || now > 23) {
  return "–î–æ—Å—Ç—É–ø —Ä–∞–∑—Ä–µ—à–µ–Ω —Ç–æ–ª—å–∫–æ —Å 6:00 –¥–æ 23:00";
}
```

#### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤:
```javascript
// –ú–∞–∫—Å–∏–º—É–º 100 —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –¥–µ–Ω—å
if (userDailyCount >= 100) {
  return "–ü—Ä–µ–≤—ã—à–µ–Ω –¥–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–π";
}
```

#### –ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –ø—Ä–∏–≤—è–∑–∫–∞:
```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä–∞–Ω—ã –ø–æ IP (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
if (userCountry !== subscriberCountry) {
  return "–î–æ—Å—Ç—É–ø —Ä–∞–∑—Ä–µ—à–µ–Ω —Ç–æ–ª—å–∫–æ –∏–∑ —Å—Ç—Ä–∞–Ω—ã –ø–æ–∫—É–ø–∫–∏";
}
```

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:

#### API Endpoint:
```bash
POST /api/verify-token
Content-Type: application/json

{
  "token": "user_access_token",
  "telegram_id": 123456789
}
```

#### –û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞:
```json
{
  "success": true,
  "user_id": 123456789,
  "plan_type": "monthly", 
  "end_date": "2025-09-05T12:00:00.000Z"
}
```

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:

#### –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:
- –û–¥–∏–Ω —Ç–æ–∫–µ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å —Ä–∞–∑–Ω—ã—Ö IP
- –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É
- –ü–æ–ø—ã—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —á—É–∂–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤

#### –ê–ª–µ—Ä—Ç—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É:
```javascript
if (suspiciousActivity) {
  await bot.sendMessage(ADMIN_ID, 
    `üö® –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å!\n` +
    `–¢–æ–∫–µ–Ω: ${token}\n` +
    `–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ${telegram_id}\n` +
    `–í—Ä–µ–º—è: ${new Date()}`
  );
}
```

### üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:

‚úÖ **–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –¥–æ—Å—Ç—É–ø** –¥—Ä—É–≥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é  
‚úÖ **–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å** –Ω–∞–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ò–ò  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ** –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏  
‚úÖ **–î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è  
‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞** –Ω–∞ —É—Ä–æ–≤–Ω–µ API  

---

**–ò—Ç–æ–≥:** –¢–µ–ø–µ—Ä—å –∫–∞–∂–¥—ã–π, –∫—Ç–æ —Ö–æ—á–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ò–ò, –¥–æ–ª–∂–µ–Ω –ø–æ–∫—É–ø–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –ø–æ–¥–ø–∏—Å–∫—É! üîêüí™
